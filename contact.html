<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Me</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <!-- Include AOS CSS for animations -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" />
</head>
<body>
    <div class="container">
        <!-- Cabecera con la barra de navegaci贸n -->
        <header class="header">
            <h1 class="fade-in">Contact Me</h1>
            <h2 class="fade-in">Let's Get in Touch!</h2>
            <nav class="nav-links">
                <ul>
                    <li><a href="index.html"> Home</a></li>
                    <li><a href="projects.html"> Projects</a></li>
                    <li><a href="contact.html"> Contact</a></li>
                    <li><a href="https://github.com/LordsMikel" target="_blank"><i class="fab fa-github"></i> GitHub</a></li>
                    <li><a href="https://www.linkedin.com/in/miguel-medina-cantos-b72a49258/" target="_blank"><i class="fab fa-linkedin"></i> LinkedIn</a></li>
                </ul>
            </nav>
        </header>

        <!-- Formulario de contacto -->
        <section class="main-contact-form fade-in" data-aos="fade-up">
            <h3>Get in Touch</h3>
            <form action="https://formspree.io/f/xblrbdkl" method="POST" onsubmit="return validateCaptcha()">
                <label for="name"><i class="fas fa-user"></i> Your Name</label>
                <input type="text" id="name" name="name" placeholder="Your name.." required>
                
                <label for="email"><i class="fas fa-envelope"></i> Your Email</label>
                <input type="email" id="email" name="email" placeholder="Your email.." required>
                
                <label for="message"><i class="fas fa-comment-dots"></i> Message</label>
                <textarea id="message" name="message" rows="5" placeholder="Write your message here.." required></textarea>
                
                <!-- CAPTCHA manual: simple pregunta matem谩tica -->
                <label for="captcha">What is <span id="num1"></span> + <span id="num2"></span>?</label>
                <input type="text" id="captcha" name="captcha" placeholder="Enter the answer.." required>
                <input type="hidden" id="num1-hidden" name="num1" value="">
                <input type="hidden" id="num2-hidden" name="num2" value="">
                
                <!-- Contenedor para mensaje de error -->
                <p id="captcha-error" style="color: red; display: none;">Incorrect answer. Please try again.</p>
                
                <button type="submit">Send Message</button>
            </form>
        </section>

        <!-- Pie de p谩gina -->
        <footer class="footer fade-in" data-aos="fade-up">
            <p>&copy; 2024 Miguel Medina Cantos. All rights reserved.</p>
        </footer>
    </div>

    <!-- Script para el CAPTCHA manual -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const num1 = Math.floor(Math.random() * 10);
            const num2 = Math.floor(Math.random() * 10);
            document.getElementById('num1').textContent = num1;
            document.getElementById('num2').textContent = num2;
            document.getElementById('num1-hidden').value = num1;
            document.getElementById('num2-hidden').value = num2;

            function validateCaptcha() {
                const userAnswer = parseInt(document.getElementById('captcha').value);
                const correctAnswer = num1 + num2;

                if (userAnswer !== correctAnswer) {
                    document.getElementById('captcha-error').style.display = 'block';
                    return false;
                }
                return true;
            }
        });
    </script>

    <!-- Include AOS JS for animations -->
    <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            AOS.init({
                duration: 1000, // Duraci贸n de la animaci贸n en milisegundos
                once: true, // Ejecuta la animaci贸n solo una vez
                easing: 'ease-in-out', // Tipo de easing de la animaci贸n
            });

            // Script para detectar si los elementos est谩n en el viewport
            const elements = document.querySelectorAll('.fade-in');

            const isVisible = (el) => {
                const rect = el.getBoundingClientRect();
                return (
                    rect.top >= 0 &&
                    rect.left >= 0 &&
                    rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
                    rect.right <= (window.innerWidth || document.documentElement.clientWidth)
                );
            };

            const checkVisibility = () => {
                elements.forEach(element => {
                    if (isVisible(element)) {
                        element.classList.add('visible');
                    }
                });
            };

            window.addEventListener('scroll', checkVisibility);
            checkVisibility(); // Activar la animaci贸n al cargar la p谩gina
        });
    </script>
</body>
</html>
